#!/usr/bin/env jruby

#TODO: make a collection/array object. Then: to_s make s a nice list!

require File.expand_path(
File.join(File.dirname(__FILE__), '..', 'lib', 'cmd_player'))

WIN32 = %r/djgpp|(cyg|ms|bcc)win|mingw/ =~ RUBY_PLATFORM unless defined? WIN32
DEV_NULL = WIN32 ? 'NUL:' : '/dev/null'
STDERR.reopen DEV_NULL

#  Options['help' => [false, "show this help message"]]
#  if Options['help']
#    puts "x2c - the interactive ruby client"
#    puts "you can set options as commandline switches, or as ENV variables"
#    puts "you also can use the #{X2C_CONF}/config.rb file to set them as CONSTANTS"
#    puts Options.help
#    exit
#  end

main = CmdPlayer

$prompt = IRB::Prompt.new main,
  :irb_name       => "cmd_player",
  :inspect_mode   => nil,
  :verbose        => false,
  :prompt_i       => "%m >> ",
  :prompt_c       => "%M.",
  :prompt_n       => "%M.  ",
  :prompt_s       => "%M%l  ",
  :return_format  => "=> %s\n"

#main.welcome
$prompt.start
